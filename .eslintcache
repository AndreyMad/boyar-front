[{"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\index.js":"1","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\App.js":"2","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\routes\\routes.js":"3","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\Navigation\\Navigation.js":"4","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\pages\\HomePage\\HomePage.js":"5","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\pages\\YmapPage\\YmapPage.js":"6","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\api\\api.js":"7","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\LoginModal\\LoginModal.js":"8","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\YmapAdmin\\YmapAdmin.js":"9","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\Ymap\\Ymap.js":"10"},{"size":256,"mtime":1611129559566,"results":"11","hashOfConfig":"12"},{"size":742,"mtime":1611129559554,"results":"13","hashOfConfig":"12"},{"size":275,"mtime":1611129559574,"results":"14","hashOfConfig":"12"},{"size":509,"mtime":1611129559557,"results":"15","hashOfConfig":"12"},{"size":237,"mtime":1611129559569,"results":"16","hashOfConfig":"12"},{"size":3626,"mtime":1611246833913,"results":"17","hashOfConfig":"12"},{"size":717,"mtime":1611223838598,"results":"18","hashOfConfig":"12"},{"size":930,"mtime":1611246837690,"results":"19","hashOfConfig":"12"},{"size":8147,"mtime":1611231627705,"results":"20","hashOfConfig":"12"},{"size":172,"mtime":1611231932903,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9md35c",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\index.js",[],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\App.js",[],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\routes\\routes.js",["45"],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\Navigation\\Navigation.js",[],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\pages\\HomePage\\HomePage.js",[],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\pages\\YmapPage\\YmapPage.js",["46"],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\api\\api.js",[],["47","48"],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\LoginModal\\LoginModal.js",["49","50","51","52","53"],"C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\YmapAdmin\\YmapAdmin.js",["54"],"import React, { Component } from \"react\";\r\nimport {\r\n  YMaps,\r\n  Map,\r\n  Placemark,\r\n  RouteButton,\r\n  TrafficControl,\r\n  GeolocationControl,\r\n  SearchControl,\r\n} from \"react-yandex-maps\";\r\nimport BoyarImg from \"../../img/logomap.png\";\r\nimport { Modal, Button, message, Space } from \"antd\";\r\nimport style from \"./YmapAdmin.module.css\";\r\nimport \"antd/dist/antd.css\";\r\nimport shId from \"shortid\";\r\nclass YmapAdmin extends Component {\r\n  state = {\r\n    defaultMapState: {\r\n      center: [61.26, 73.4],\r\n      zoom: 11,\r\n    },\r\n    selectedMapState: {},\r\n    isModalVisible: false,\r\n    modalValues: {\r\n      name: \"\",\r\n      latitude: \"\",\r\n      longtitude: \"\",\r\n      description: \"\",\r\n      id: \"\",\r\n    }\r\n  };\r\n\r\n  dotSelect(dot) {\r\n    this.setState({\r\n      selectedMapState: { center: [+dot.latitude, +dot.longtitude], zoom: 16 },\r\n    });\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      isModalVisible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = async () => {\r\n    const { modalValues } = this.state;\r\n    const { editDot } = this.props;\r\n    if (modalValues.id.length === 0) {\r\n      console.log(\"add\");\r\n      const { createDot } = this.props;\r\n      const latitudeRegexp = /([-+]?(([1-8]?\\d(\\.\\d+))+|90))/g;\r\n      const longtitudeRegexp = /^(\\+|-)?(?:180(?:(?:\\.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\\.[0-9]{1,6})?))$/g;\r\n      const latitude = modalValues.latitude.replace(\",\", \".\");\r\n      const longtitude = modalValues.longtitude.replace(\",\", \".\");\r\n\r\n      if (!latitude.match(latitudeRegexp)) {\r\n        return message.error(\"неправильная широта\", 1);\r\n      } else if (!longtitude.match(longtitudeRegexp)) {\r\n        return message.error(\"неправильная долгота\", 1);\r\n      }\r\n      const newDot = {\r\n        latitude: latitude,\r\n        longtitude: longtitude,\r\n        name: modalValues.name,\r\n        description: modalValues.description,\r\n        id: shId.generate(),\r\n      };\r\n      const isDotsUpdate = await createDot(newDot);\r\n      return (\r\n        isDotsUpdate && message.success(\"Добавлено\") && this.handleCancel()\r\n      );\r\n    }\r\n    const isDotsUpdate = await editDot(modalValues);\r\n    return isDotsUpdate && message.success(\"Обновлено\") && this.handleCancel();\r\n  };\r\n\r\n  editHandler = (id) => {\r\n    const { dots } = this.props;\r\n    const dotToEdit = dots.find((dot) => dot.id === id);\r\n    this.setState(\r\n      {\r\n        isModalVisible: false,\r\n        modalValues: {\r\n          name: dotToEdit.name,\r\n          latitude: dotToEdit.latitude,\r\n          longtitude: dotToEdit.longtitude,\r\n          description: dotToEdit.description,\r\n          id: dotToEdit.id,\r\n        },\r\n      },\r\n      () => this.showModal()\r\n    );\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      isModalVisible: false,\r\n      modalValues: {\r\n        name: \"\",\r\n        latitude: \"\",\r\n        longtitude: \"\",\r\n        description: \"\",\r\n        id: \"\",\r\n      },\r\n    });\r\n  };\r\n\r\n  inputHandler = ({ target }) => {\r\n    this.setState((prevState) => ({\r\n      modalValues: { ...prevState.modalValues, [target.id]: target.value },\r\n    }));\r\n  };\r\n\r\n  dragEnd = (e, id) => {\r\n    const { editDot } = this.props;\r\n    const position = e.get(\"target\").geometry.getCoordinates();\r\n    console.log(id);\r\n    const newDot = {\r\n      id: id,\r\n      latitude: position[0],\r\n      longtitude: position[1],\r\n    };\r\n    editDot(newDot);\r\n  };\r\n\r\n  deleteHandler = async (id) => {\r\n    const { deleteDot } = this.props;\r\n    const isDotDeleted = await deleteDot(id);\r\n    return !isDotDeleted\r\n      ? message.error(\"Ошибка удаления\", 1)\r\n      : message.success(\"Успешно удалено\");\r\n  };\r\n\r\n  render() {\r\n    const { dots } = this.props;\r\n    const {\r\n      defaultMapState,\r\n      selectedMapState,\r\n      isModalVisible,\r\n      modalValues,\r\n      modalTitle\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div className={style.mapContainer}>\r\n          <YMaps\r\n            query={{\r\n              apikey: `fe9877ac-206a-418c-9d9a-ee1b44acfe8a`,\r\n            }}\r\n          >\r\n            <Map\r\n              width={`100%`}\r\n              height={\"400px\"}\r\n              defaultState={defaultMapState}\r\n              state={\r\n                selectedMapState.center ? selectedMapState : defaultMapState\r\n              }\r\n            >\r\n              <TrafficControl />\r\n              <RouteButton options={{ float: \"right\" }} />\r\n              <SearchControl />\r\n              <GeolocationControl options={{ float: \"left\" }} />\r\n              {dots.length > 0\r\n                ? dots.map((dot) => {\r\n                    return (\r\n                      <Placemark\r\n                        key={dot.id}\r\n                        geometry={[+dot.latitude, +dot.longtitude]}\r\n                        onDragEnd={(e) => this.dragEnd(e, dot.id)}\r\n                        properties={{\r\n                          hintContent: dot.name,\r\n                          balloonContent: dot.description,\r\n                        }}\r\n                        options={{\r\n                          draggable: true,\r\n                          hideIconOnBalloonOpen: false,\r\n                          iconLayout: \"default#image\",\r\n                          iconImageHref: BoyarImg,\r\n                          iconImageSize: [42, 42],\r\n                          iconImageOffset: [-21, -42],\r\n                          iconContentOffset: [-42, -42],\r\n                        }}\r\n                        modules={[\r\n                          \"geoObject.addon.balloon\",\r\n                          \"geoObject.addon.hint\",\r\n                        ]}\r\n                      />\r\n                    );\r\n                  })\r\n                : null}\r\n            </Map>\r\n          </YMaps>\r\n        </div>\r\n        <Button type=\"primary\" style={{margin:'30px 40px'}} onClick={this.showModal}>\r\n         Додати точку\r\n        </Button>\r\n        {dots.length > 0 ? (\r\n          <ul className={style.list}>\r\n            {dots.map((dot) => {\r\n              return (\r\n                <li key={dot.id} value={dot.name}>\r\n                  <span onClick={() => this.dotSelect(dot)}>{dot.name}</span>\r\n                  <button\r\n                    className={style.deleteBtn}\r\n                    onClick={() => this.deleteHandler(dot.id)}\r\n                  >\r\n                    +\r\n                  </button>\r\n                  <button\r\n                    className={style.editBtn}\r\n                    onClick={() => this.editHandler(dot.id)}\r\n                  ></button>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        ) : null}\r\n\r\n        <Modal\r\n          title={modalValues.id.length===0?'Добавить новую точку':'Редактировать точку'}\r\n          visible={isModalVisible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          style={{ marginBottom: \"100px\" }}\r\n        >\r\n          <form className={style.formInput}>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Адрес\"\r\n              id=\"name\"\r\n              value={modalValues.name}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Широта  *\"\r\n              id=\"latitude\"\r\n              value={modalValues.latitude}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Долгота  *\"\r\n              id=\"longtitude\"\r\n              value={modalValues.longtitude}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <textarea\r\n              className={style.modalInput}\r\n              placeholder=\"Описание\"\r\n              id=\"description\"\r\n              value={modalValues.description}\r\n              onChange={this.inputHandler}\r\n            ></textarea>\r\n          </form>\r\n        </Modal>\r\n        <Space> </Space>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default YmapAdmin;\r\n","C:\\Users\\andre\\Desktop\\boyar\\boyar-map\\src\\Components\\Ymap\\Ymap.js",["55"],"import React, { Component } from \"react\";\r\nimport {\r\n  YMaps,\r\n  Map,\r\n  Placemark,\r\n  RouteButton,\r\n  TrafficControl,\r\n  GeolocationControl,\r\n  SearchControl,\r\n} from \"react-yandex-maps\";\r\nimport BoyarImg from \"../../img/logomap.png\";\r\nimport { Modal, Button, message, Space } from \"antd\";\r\nimport style from \"./Ymap.module.css\";\r\nimport \"antd/dist/antd.css\";\r\nimport shId from \"shortid\";\r\nclass Ymap extends Component {\r\n  state = {\r\n    defaultMapState: {\r\n      center: [61.26, 73.4],\r\n      zoom: 11,\r\n    },\r\n    selectedMapState: {},\r\n    isModalVisible: false,\r\n    modalValues: {\r\n      name: \"\",\r\n      latitude: \"\",\r\n      longtitude: \"\",\r\n      description: \"\",\r\n      id: \"\",\r\n    }\r\n  };\r\n\r\n  dotSelect(dot) {\r\n    this.setState({\r\n      selectedMapState: { center: [+dot.latitude, +dot.longtitude], zoom: 16 },\r\n    });\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      isModalVisible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = async () => {\r\n    const { modalValues } = this.state;\r\n    const { editDot } = this.props;\r\n    if (modalValues.id.length === 0) {\r\n      console.log(\"add\");\r\n      const { createDot } = this.props;\r\n      const latitudeRegexp = /([-+]?(([1-8]?\\d(\\.\\d+))+|90))/g;\r\n      const longtitudeRegexp = /^(\\+|-)?(?:180(?:(?:\\.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\\.[0-9]{1,6})?))$/g;\r\n      const latitude = modalValues.latitude.replace(\",\", \".\");\r\n      const longtitude = modalValues.longtitude.replace(\",\", \".\");\r\n\r\n      if (!latitude.match(latitudeRegexp)) {\r\n        return message.error(\"неправильная широта\", 1);\r\n      } else if (!longtitude.match(longtitudeRegexp)) {\r\n        return message.error(\"неправильная долгота\", 1);\r\n      }\r\n      const newDot = {\r\n        latitude: latitude,\r\n        longtitude: longtitude,\r\n        name: modalValues.name,\r\n        description: modalValues.description,\r\n        id: shId.generate(),\r\n      };\r\n      const isDotsUpdate = await createDot(newDot);\r\n      return (\r\n        isDotsUpdate && message.success(\"Добавлено\") && this.handleCancel()\r\n      );\r\n    }\r\n    const isDotsUpdate = await editDot(modalValues);\r\n    return isDotsUpdate && message.success(\"Обновлено\") && this.handleCancel();\r\n  };\r\n\r\n  editHandler = (id) => {\r\n    const { dots } = this.props;\r\n    const dotToEdit = dots.find((dot) => dot.id === id);\r\n    this.setState(\r\n      {\r\n        isModalVisible: false,\r\n        modalValues: {\r\n          name: dotToEdit.name,\r\n          latitude: dotToEdit.latitude,\r\n          longtitude: dotToEdit.longtitude,\r\n          description: dotToEdit.description,\r\n          id: dotToEdit.id,\r\n        },\r\n      },\r\n      () => this.showModal()\r\n    );\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      isModalVisible: false,\r\n      modalValues: {\r\n        name: \"\",\r\n        latitude: \"\",\r\n        longtitude: \"\",\r\n        description: \"\",\r\n        id: \"\",\r\n      },\r\n    });\r\n  };\r\n\r\n  inputHandler = ({ target }) => {\r\n    this.setState((prevState) => ({\r\n      modalValues: { ...prevState.modalValues, [target.id]: target.value },\r\n    }));\r\n  };\r\n\r\n  dragEnd = (e, id) => {\r\n    const { editDot } = this.props;\r\n    const position = e.get(\"target\").geometry.getCoordinates();\r\n    console.log(id);\r\n    const newDot = {\r\n      id: id,\r\n      latitude: position[0],\r\n      longtitude: position[1],\r\n    };\r\n    editDot(newDot);\r\n  };\r\n\r\n  deleteHandler = async (id) => {\r\n    const { deleteDot } = this.props;\r\n    const isDotDeleted = await deleteDot(id);\r\n    return !isDotDeleted\r\n      ? message.error(\"Ошибка удаления\", 1)\r\n      : message.success(\"Успешно удалено\");\r\n  };\r\n\r\n  render() {\r\n    const { dots } = this.props;\r\n    const {\r\n      defaultMapState,\r\n      selectedMapState,\r\n      isModalVisible,\r\n      modalValues,\r\n      modalTitle\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div className={style.mapContainer}>\r\n          <YMaps\r\n            query={{\r\n              apikey: `fe9877ac-206a-418c-9d9a-ee1b44acfe8a`,\r\n            }}\r\n          >\r\n            <Map\r\n              width={`100%`}\r\n              height={\"400px\"}\r\n              defaultState={defaultMapState}\r\n              state={\r\n                selectedMapState.center ? selectedMapState : defaultMapState\r\n              }\r\n            >\r\n              <TrafficControl />\r\n              <RouteButton options={{ float: \"right\" }} />\r\n              <SearchControl />\r\n              <GeolocationControl options={{ float: \"left\" }} />\r\n              {dots.length > 0\r\n                ? dots.map((dot) => {\r\n                    return (\r\n                      <Placemark\r\n                        key={dot.id}\r\n                        geometry={[+dot.latitude, +dot.longtitude]}\r\n                        onDragEnd={(e) => this.dragEnd(e, dot.id)}\r\n                        properties={{\r\n                          hintContent: dot.name,\r\n                          balloonContent: dot.description,\r\n                        }}\r\n                        options={{\r\n                          draggable: true,\r\n                          hideIconOnBalloonOpen: false,\r\n                          iconLayout: \"default#image\",\r\n                          iconImageHref: BoyarImg,\r\n                          iconImageSize: [42, 42],\r\n                          iconImageOffset: [-21, -42],\r\n                          iconContentOffset: [-42, -42],\r\n                        }}\r\n                        modules={[\r\n                          \"geoObject.addon.balloon\",\r\n                          \"geoObject.addon.hint\",\r\n                        ]}\r\n                      />\r\n                    );\r\n                  })\r\n                : null}\r\n            </Map>\r\n          </YMaps>\r\n        </div>\r\n        <Button type=\"primary\" style={{margin:'30px 40px'}} onClick={this.showModal}>\r\n         Додати точку\r\n        </Button>\r\n        {dots.length > 0 ? (\r\n          <ul className={style.list}>\r\n            {dots.map((dot) => {\r\n              return (\r\n                <li key={dot.id} value={dot.name}>\r\n                  <span onClick={() => this.dotSelect(dot)}>{dot.name}</span>\r\n                  <button\r\n                    className={style.deleteBtn}\r\n                    onClick={() => this.deleteHandler(dot.id)}\r\n                  >\r\n                    +\r\n                  </button>\r\n                  <button\r\n                    className={style.editBtn}\r\n                    onClick={() => this.editHandler(dot.id)}\r\n                  ></button>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        ) : null}\r\n\r\n        <Modal\r\n          title={modalValues.id.length===0?'Добавить новую точку':'Редактировать точку'}\r\n          visible={isModalVisible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          style={{ marginBottom: \"100px\" }}\r\n        >\r\n          <form className={style.formInput}>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Адрес\"\r\n              id=\"name\"\r\n              value={modalValues.name}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Широта  *\"\r\n              id=\"latitude\"\r\n              value={modalValues.latitude}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <input\r\n              className={style.modalInput}\r\n              placeholder=\"Долгота  *\"\r\n              id=\"longtitude\"\r\n              value={modalValues.longtitude}\r\n              onChange={this.inputHandler}\r\n            ></input>\r\n            <textarea\r\n              className={style.modalInput}\r\n              placeholder=\"Описание\"\r\n              id=\"description\"\r\n              value={modalValues.description}\r\n              onChange={this.inputHandler}\r\n            ></textarea>\r\n          </form>\r\n        </Modal>\r\n        <Space> </Space>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Ymap;\r\n",{"ruleId":"56","severity":1,"message":"57","line":5,"column":1,"nodeType":"58","endLine":14,"endColumn":3},{"ruleId":"59","severity":1,"message":"60","line":116,"column":102,"nodeType":"61","endLine":116,"endColumn":130},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":2,"column":17,"nodeType":"68","messageId":"69","endLine":2,"endColumn":23},{"ruleId":"66","severity":1,"message":"70","line":2,"column":25,"nodeType":"68","messageId":"69","endLine":2,"endColumn":32},{"ruleId":"66","severity":1,"message":"71","line":2,"column":34,"nodeType":"68","messageId":"69","endLine":2,"endColumn":39},{"ruleId":"66","severity":1,"message":"72","line":21,"column":16,"nodeType":"68","messageId":"69","endLine":21,"endColumn":33},{"ruleId":"66","severity":1,"message":"73","line":21,"column":35,"nodeType":"68","messageId":"69","endLine":21,"endColumn":45},{"ruleId":"66","severity":1,"message":"74","line":141,"column":7,"nodeType":"68","messageId":"69","endLine":141,"endColumn":17},{"ruleId":"66","severity":1,"message":"74","line":141,"column":7,"nodeType":"68","messageId":"69","endLine":141,"endColumn":17},"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'message' is defined but never used.","'Space' is defined but never used.","'handleSubmitModal' is assigned a value but never used.","'closeModal' is assigned a value but never used.","'modalTitle' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]